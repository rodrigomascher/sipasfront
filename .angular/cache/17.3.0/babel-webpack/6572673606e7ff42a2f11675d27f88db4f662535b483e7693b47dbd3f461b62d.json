{"ast":null,"code":"import { createReducer, on } from '@ngrx/store';\nimport * as DepartmentsActions from './departments.actions';\nexport const initialState = {\n  departments: [],\n  selectedDepartment: null,\n  loading: false,\n  error: null\n};\nexport const departmentsReducer = createReducer(initialState,\n// Load Departments\non(DepartmentsActions.loadDepartments, state => ({\n  ...state,\n  loading: true,\n  error: null\n})), on(DepartmentsActions.loadDepartmentsSuccess, (state, {\n  departments\n}) => ({\n  ...state,\n  departments,\n  loading: false\n})), on(DepartmentsActions.loadDepartmentsFailure, (state, {\n  error\n}) => ({\n  ...state,\n  loading: false,\n  error\n})),\n// Load Department by ID\non(DepartmentsActions.loadDepartmentById, state => ({\n  ...state,\n  loading: true,\n  error: null\n})), on(DepartmentsActions.loadDepartmentByIdSuccess, (state, {\n  department\n}) => ({\n  ...state,\n  selectedDepartment: department,\n  loading: false\n})), on(DepartmentsActions.loadDepartmentByIdFailure, (state, {\n  error\n}) => ({\n  ...state,\n  loading: false,\n  error\n})),\n// Create Department\non(DepartmentsActions.createDepartment, state => ({\n  ...state,\n  loading: true,\n  error: null\n})), on(DepartmentsActions.createDepartmentSuccess, (state, {\n  department\n}) => ({\n  ...state,\n  departments: [...state.departments, department],\n  loading: false\n})), on(DepartmentsActions.createDepartmentFailure, (state, {\n  error\n}) => ({\n  ...state,\n  loading: false,\n  error\n})),\n// Update Department\non(DepartmentsActions.updateDepartment, state => ({\n  ...state,\n  loading: true,\n  error: null\n})), on(DepartmentsActions.updateDepartmentSuccess, (state, {\n  department\n}) => ({\n  ...state,\n  departments: state.departments.map(d => d.id === department.id ? department : d),\n  selectedDepartment: department,\n  loading: false\n})), on(DepartmentsActions.updateDepartmentFailure, (state, {\n  error\n}) => ({\n  ...state,\n  loading: false,\n  error\n})),\n// Delete Department\non(DepartmentsActions.deleteDepartment, state => ({\n  ...state,\n  loading: true,\n  error: null\n})), on(DepartmentsActions.deleteDepartmentSuccess, (state, {\n  id\n}) => ({\n  ...state,\n  departments: state.departments.filter(d => d.id !== id),\n  selectedDepartment: null,\n  loading: false\n})), on(DepartmentsActions.deleteDepartmentFailure, (state, {\n  error\n}) => ({\n  ...state,\n  loading: false,\n  error\n})));","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}
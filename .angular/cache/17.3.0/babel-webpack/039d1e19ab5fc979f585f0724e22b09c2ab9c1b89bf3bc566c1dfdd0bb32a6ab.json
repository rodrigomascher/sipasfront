{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Injectable } from '@angular/core';\nimport { createEffect, ofType } from '@ngrx/effects';\nimport { catchError, map, switchMap } from 'rxjs/operators';\nimport { of } from 'rxjs';\nimport * as EmployeesActions from './employees.actions';\nlet EmployeesEffects = class EmployeesEffects {\n  constructor(actions$, employeesService) {\n    this.actions$ = actions$;\n    this.employeesService = employeesService;\n    this.loadEmployees$ = createEffect(() => this.actions$.pipe(ofType(EmployeesActions.loadEmployees), switchMap(() => this.employeesService.getEmployees().pipe(map(employees => EmployeesActions.loadEmployeesSuccess({\n      employees\n    })), catchError(error => of(EmployeesActions.loadEmployeesFailure({\n      error: error.message\n    })))))));\n    this.loadEmployeeById$ = createEffect(() => this.actions$.pipe(ofType(EmployeesActions.loadEmployeeById), switchMap(({\n      id\n    }) => this.employeesService.getEmployeeById(id).pipe(map(employee => EmployeesActions.loadEmployeeByIdSuccess({\n      employee\n    })), catchError(error => of(EmployeesActions.loadEmployeeByIdFailure({\n      error: error.message\n    })))))));\n    this.createEmployee$ = createEffect(() => this.actions$.pipe(ofType(EmployeesActions.createEmployee), switchMap(({\n      employee\n    }) => this.employeesService.createEmployee(employee).pipe(map(newEmployee => EmployeesActions.createEmployeeSuccess({\n      employee: newEmployee\n    })), catchError(error => of(EmployeesActions.createEmployeeFailure({\n      error: error.message\n    })))))));\n    this.updateEmployee$ = createEffect(() => this.actions$.pipe(ofType(EmployeesActions.updateEmployee), switchMap(({\n      id,\n      employee\n    }) => this.employeesService.updateEmployee(id, employee).pipe(map(updatedEmployee => EmployeesActions.updateEmployeeSuccess({\n      employee: updatedEmployee\n    })), catchError(error => of(EmployeesActions.updateEmployeeFailure({\n      error: error.message\n    })))))));\n    this.deleteEmployee$ = createEffect(() => this.actions$.pipe(ofType(EmployeesActions.deleteEmployee), switchMap(({\n      id\n    }) => this.employeesService.deleteEmployee(id).pipe(map(() => EmployeesActions.deleteEmployeeSuccess({\n      id\n    })), catchError(error => of(EmployeesActions.deleteEmployeeFailure({\n      error: error.message\n    })))))));\n  }\n};\nEmployeesEffects = __decorate([Injectable()], EmployeesEffects);\nexport { EmployeesEffects };","map":{"version":3,"names":["Injectable","createEffect","ofType","catchError","map","switchMap","of","EmployeesActions","EmployeesEffects","constructor","actions$","employeesService","loadEmployees$","pipe","loadEmployees","getEmployees","employees","loadEmployeesSuccess","error","loadEmployeesFailure","message","loadEmployeeById$","loadEmployeeById","id","getEmployeeById","employee","loadEmployeeByIdSuccess","loadEmployeeByIdFailure","createEmployee$","createEmployee","newEmployee","createEmployeeSuccess","createEmployeeFailure","updateEmployee$","updateEmployee","updatedEmployee","updateEmployeeSuccess","updateEmployeeFailure","deleteEmployee$","deleteEmployee","deleteEmployeeSuccess","deleteEmployeeFailure","__decorate"],"sources":["C:\\Users\\Admin\\Documents\\SIPAS\\front\\src\\app\\store\\employees\\employees.effects.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { Actions, createEffect, ofType } from '@ngrx/effects';\r\nimport { catchError, map, switchMap } from 'rxjs/operators';\r\nimport { of } from 'rxjs';\r\nimport { EmployeesService, Employee } from '../../../core/services/employees.service';\r\nimport * as EmployeesActions from './employees.actions';\r\n\r\n@Injectable()\r\nexport class EmployeesEffects {\r\n  loadEmployees$ = createEffect(() =>\r\n    this.actions$.pipe(\r\n      ofType(EmployeesActions.loadEmployees),\r\n      switchMap(() =>\r\n        this.employeesService.getEmployees().pipe(\r\n          map((employees: Employee[]) => EmployeesActions.loadEmployeesSuccess({ employees })),\r\n          catchError(error => of(EmployeesActions.loadEmployeesFailure({ error: error.message })))\r\n        )\r\n      )\r\n    )\r\n  );\r\n\r\n  loadEmployeeById$ = createEffect(() =>\r\n    this.actions$.pipe(\r\n      ofType(EmployeesActions.loadEmployeeById),\r\n      switchMap(({ id }) =>\r\n        this.employeesService.getEmployeeById(id).pipe(\r\n          map(employee => EmployeesActions.loadEmployeeByIdSuccess({ employee })),\r\n          catchError(error => of(EmployeesActions.loadEmployeeByIdFailure({ error: error.message })))\r\n        )\r\n      )\r\n    )\r\n  );\r\n\r\n  createEmployee$ = createEffect(() =>\r\n    this.actions$.pipe(\r\n      ofType(EmployeesActions.createEmployee),\r\n      switchMap(({ employee }) =>\r\n        this.employeesService.createEmployee(employee).pipe(\r\n          map(newEmployee => EmployeesActions.createEmployeeSuccess({ employee: newEmployee })),\r\n          catchError(error => of(EmployeesActions.createEmployeeFailure({ error: error.message })))\r\n        )\r\n      )\r\n    )\r\n  );\r\n\r\n  updateEmployee$ = createEffect(() =>\r\n    this.actions$.pipe(\r\n      ofType(EmployeesActions.updateEmployee),\r\n      switchMap(({ id, employee }) =>\r\n        this.employeesService.updateEmployee(id, employee).pipe(\r\n          map(updatedEmployee => EmployeesActions.updateEmployeeSuccess({ employee: updatedEmployee })),\r\n          catchError(error => of(EmployeesActions.updateEmployeeFailure({ error: error.message })))\r\n        )\r\n      )\r\n    )\r\n  );\r\n\r\n  deleteEmployee$ = createEffect(() =>\r\n    this.actions$.pipe(\r\n      ofType(EmployeesActions.deleteEmployee),\r\n      switchMap(({ id }) =>\r\n        this.employeesService.deleteEmployee(id).pipe(\r\n          map(() => EmployeesActions.deleteEmployeeSuccess({ id })),\r\n          catchError(error => of(EmployeesActions.deleteEmployeeFailure({ error: error.message })))\r\n        )\r\n      )\r\n    )\r\n  );\r\n\r\n  constructor(\r\n    private actions$: Actions,\r\n    private employeesService: EmployeesService\r\n  ) {}\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
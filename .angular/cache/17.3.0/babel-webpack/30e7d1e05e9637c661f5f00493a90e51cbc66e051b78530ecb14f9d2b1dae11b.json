{"ast":null,"code":"import { createReducer, on } from '@ngrx/store';\nimport * as DepartmentsActions from './departments.actions';\nexport const initialState = {\n  departments: [],\n  selectedDepartment: null,\n  loading: false,\n  error: null\n};\nexport const departmentsReducer = createReducer(initialState,\n// Load Departments\non(DepartmentsActions.loadDepartments, state => ({\n  ...state,\n  loading: true,\n  error: null\n})), on(DepartmentsActions.loadDepartmentsSuccess, (state, {\n  departments\n}) => ({\n  ...state,\n  departments,\n  loading: false\n})), on(DepartmentsActions.loadDepartmentsFailure, (state, {\n  error\n}) => ({\n  ...state,\n  loading: false,\n  error\n})),\n// Load Department by ID\non(DepartmentsActions.loadDepartmentById, state => ({\n  ...state,\n  loading: true,\n  error: null\n})), on(DepartmentsActions.loadDepartmentByIdSuccess, (state, {\n  department\n}) => ({\n  ...state,\n  selectedDepartment: department,\n  loading: false\n})), on(DepartmentsActions.loadDepartmentByIdFailure, (state, {\n  error\n}) => ({\n  ...state,\n  loading: false,\n  error\n})),\n// Create Department\non(DepartmentsActions.createDepartment, state => ({\n  ...state,\n  loading: true,\n  error: null\n})), on(DepartmentsActions.createDepartmentSuccess, (state, {\n  department\n}) => ({\n  ...state,\n  departments: [...state.departments, department],\n  loading: false\n})), on(DepartmentsActions.createDepartmentFailure, (state, {\n  error\n}) => ({\n  ...state,\n  loading: false,\n  error\n})),\n// Update Department\non(DepartmentsActions.updateDepartment, state => ({\n  ...state,\n  loading: true,\n  error: null\n})), on(DepartmentsActions.updateDepartmentSuccess, (state, {\n  department\n}) => ({\n  ...state,\n  departments: state.departments.map(d => d.id === department.id ? department : d),\n  selectedDepartment: department,\n  loading: false\n})), on(DepartmentsActions.updateDepartmentFailure, (state, {\n  error\n}) => ({\n  ...state,\n  loading: false,\n  error\n})),\n// Delete Department\non(DepartmentsActions.deleteDepartment, state => ({\n  ...state,\n  loading: true,\n  error: null\n})), on(DepartmentsActions.deleteDepartmentSuccess, (state, {\n  id\n}) => ({\n  ...state,\n  departments: state.departments.filter(d => d.id !== id),\n  selectedDepartment: null,\n  loading: false\n})), on(DepartmentsActions.deleteDepartmentFailure, (state, {\n  error\n}) => ({\n  ...state,\n  loading: false,\n  error\n})));","map":{"version":3,"names":["createReducer","on","DepartmentsActions","initialState","departments","selectedDepartment","loading","error","departmentsReducer","loadDepartments","state","loadDepartmentsSuccess","loadDepartmentsFailure","loadDepartmentById","loadDepartmentByIdSuccess","department","loadDepartmentByIdFailure","createDepartment","createDepartmentSuccess","createDepartmentFailure","updateDepartment","updateDepartmentSuccess","map","d","id","updateDepartmentFailure","deleteDepartment","deleteDepartmentSuccess","filter","deleteDepartmentFailure"],"sources":["C:\\Users\\Admin\\Documents\\SIPAS\\front\\src\\app\\store\\departments\\departments.reducer.ts"],"sourcesContent":["import { createReducer, on } from '@ngrx/store';\r\nimport { Department } from '../../core/services/departments.service';\r\nimport * as DepartmentsActions from './departments.actions';\r\n\r\nexport interface DepartmentsState {\r\n  departments: Department[];\r\n  selectedDepartment: Department | null;\r\n  loading: boolean;\r\n  error: string | null;\r\n}\r\n\r\nexport const initialState: DepartmentsState = {\r\n  departments: [],\r\n  selectedDepartment: null,\r\n  loading: false,\r\n  error: null\r\n};\r\n\r\nexport const departmentsReducer = createReducer(\r\n  initialState,\r\n\r\n  // Load Departments\r\n  on(DepartmentsActions.loadDepartments, (state) => ({\r\n    ...state,\r\n    loading: true,\r\n    error: null\r\n  })),\r\n  on(DepartmentsActions.loadDepartmentsSuccess, (state, { departments }) => ({\r\n    ...state,\r\n    departments,\r\n    loading: false\r\n  })),\r\n  on(DepartmentsActions.loadDepartmentsFailure, (state, { error }) => ({\r\n    ...state,\r\n    loading: false,\r\n    error\r\n  })),\r\n\r\n  // Load Department by ID\r\n  on(DepartmentsActions.loadDepartmentById, (state) => ({\r\n    ...state,\r\n    loading: true,\r\n    error: null\r\n  })),\r\n  on(DepartmentsActions.loadDepartmentByIdSuccess, (state, { department }) => ({\r\n    ...state,\r\n    selectedDepartment: department,\r\n    loading: false\r\n  })),\r\n  on(DepartmentsActions.loadDepartmentByIdFailure, (state, { error }) => ({\r\n    ...state,\r\n    loading: false,\r\n    error\r\n  })),\r\n\r\n  // Create Department\r\n  on(DepartmentsActions.createDepartment, (state) => ({\r\n    ...state,\r\n    loading: true,\r\n    error: null\r\n  })),\r\n  on(DepartmentsActions.createDepartmentSuccess, (state, { department }) => ({\r\n    ...state,\r\n    departments: [...state.departments, department],\r\n    loading: false\r\n  })),\r\n  on(DepartmentsActions.createDepartmentFailure, (state, { error }) => ({\r\n    ...state,\r\n    loading: false,\r\n    error\r\n  })),\r\n\r\n  // Update Department\r\n  on(DepartmentsActions.updateDepartment, (state) => ({\r\n    ...state,\r\n    loading: true,\r\n    error: null\r\n  })),\r\n  on(DepartmentsActions.updateDepartmentSuccess, (state, { department }) => ({\r\n    ...state,\r\n    departments: state.departments.map(d => d.id === department.id ? department : d),\r\n    selectedDepartment: department,\r\n    loading: false\r\n  })),\r\n  on(DepartmentsActions.updateDepartmentFailure, (state, { error }) => ({\r\n    ...state,\r\n    loading: false,\r\n    error\r\n  })),\r\n\r\n  // Delete Department\r\n  on(DepartmentsActions.deleteDepartment, (state) => ({\r\n    ...state,\r\n    loading: true,\r\n    error: null\r\n  })),\r\n  on(DepartmentsActions.deleteDepartmentSuccess, (state, { id }) => ({\r\n    ...state,\r\n    departments: state.departments.filter(d => d.id !== id),\r\n    selectedDepartment: null,\r\n    loading: false\r\n  })),\r\n  on(DepartmentsActions.deleteDepartmentFailure, (state, { error }) => ({\r\n    ...state,\r\n    loading: false,\r\n    error\r\n  }))\r\n);\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
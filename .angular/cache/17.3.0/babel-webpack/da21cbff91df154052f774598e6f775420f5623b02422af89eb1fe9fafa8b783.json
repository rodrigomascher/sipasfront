{"ast":null,"code":"import { createReducer, on } from '@ngrx/store';\nimport * as UnitsActions from './units.actions';\nexport const initialState = {\n  units: [],\n  selectedUnit: null,\n  loading: false,\n  error: null\n};\nexport const unitsReducer = createReducer(initialState,\n// Load Units\non(UnitsActions.loadUnits, state => ({\n  ...state,\n  loading: true,\n  error: null\n})), on(UnitsActions.loadUnitsSuccess, (state, {\n  units\n}) => ({\n  ...state,\n  units,\n  loading: false\n})), on(UnitsActions.loadUnitsFailure, (state, {\n  error\n}) => ({\n  ...state,\n  error,\n  loading: false\n})),\n// Load Unit By ID\non(UnitsActions.loadUnitById, state => ({\n  ...state,\n  loading: true,\n  error: null\n})), on(UnitsActions.loadUnitByIdSuccess, (state, {\n  unit\n}) => ({\n  ...state,\n  selectedUnit: unit,\n  loading: false\n})), on(UnitsActions.loadUnitByIdFailure, (state, {\n  error\n}) => ({\n  ...state,\n  error,\n  loading: false\n})),\n// Create Unit\non(UnitsActions.createUnit, state => ({\n  ...state,\n  loading: true,\n  error: null\n})), on(UnitsActions.createUnitSuccess, (state, {\n  unit\n}) => ({\n  ...state,\n  units: [...state.units, unit],\n  loading: false\n})), on(UnitsActions.createUnitFailure, (state, {\n  error\n}) => ({\n  ...state,\n  error,\n  loading: false\n})),\n// Update Unit\non(UnitsActions.updateUnit, state => ({\n  ...state,\n  loading: true,\n  error: null\n})), on(UnitsActions.updateUnitSuccess, (state, {\n  unit\n}) => ({\n  ...state,\n  units: state.units.map(u => u.id === unit.id ? unit : u),\n  selectedUnit: state.selectedUnit?.id === unit.id ? unit : state.selectedUnit,\n  loading: false\n})), on(UnitsActions.updateUnitFailure, (state, {\n  error\n}) => ({\n  ...state,\n  error,\n  loading: false\n})),\n// Delete Unit\non(UnitsActions.deleteUnit, state => ({\n  ...state,\n  loading: true,\n  error: null\n})), on(UnitsActions.deleteUnitSuccess, (state, {\n  id\n}) => ({\n  ...state,\n  units: state.units.filter(u => u.id !== id),\n  selectedUnit: state.selectedUnit?.id === id ? null : state.selectedUnit,\n  loading: false\n})), on(UnitsActions.deleteUnitFailure, (state, {\n  error\n}) => ({\n  ...state,\n  error,\n  loading: false\n})));","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}
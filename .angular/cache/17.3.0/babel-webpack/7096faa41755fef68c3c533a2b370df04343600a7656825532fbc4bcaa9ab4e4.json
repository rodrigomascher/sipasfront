{"ast":null,"code":"import { createEffect, ofType } from '@ngrx/effects';\nimport { of } from 'rxjs';\nimport { map, mergeMap, catchError } from 'rxjs/operators';\nimport * as UnitsActions from './units.actions';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ngrx/effects\";\nimport * as i2 from \"../../core/services/units.service\";\nexport let UnitsEffects = /*#__PURE__*/(() => {\n  class UnitsEffects {\n    constructor(actions$, unitsService) {\n      this.actions$ = actions$;\n      this.unitsService = unitsService;\n      this.loadUnits$ = createEffect(() => this.actions$.pipe(ofType(UnitsActions.loadUnits), mergeMap(() => this.unitsService.getUnits().pipe(map(units => UnitsActions.loadUnitsSuccess({\n        units\n      })), catchError(error => of(UnitsActions.loadUnitsFailure({\n        error: error.message\n      })))))));\n      this.loadUnitById$ = createEffect(() => this.actions$.pipe(ofType(UnitsActions.loadUnitById), mergeMap(({\n        id\n      }) => this.unitsService.getUnitById(id).pipe(map(unit => UnitsActions.loadUnitByIdSuccess({\n        unit\n      })), catchError(error => of(UnitsActions.loadUnitByIdFailure({\n        error: error.message\n      })))))));\n      this.createUnit$ = createEffect(() => this.actions$.pipe(ofType(UnitsActions.createUnit), mergeMap(({\n        unit\n      }) => this.unitsService.createUnit(unit).pipe(map(newUnit => UnitsActions.createUnitSuccess({\n        unit: newUnit\n      })), catchError(error => of(UnitsActions.createUnitFailure({\n        error: error.message\n      })))))));\n      this.updateUnit$ = createEffect(() => this.actions$.pipe(ofType(UnitsActions.updateUnit), mergeMap(({\n        id,\n        unit\n      }) => this.unitsService.updateUnit(id, unit).pipe(map(updatedUnit => UnitsActions.updateUnitSuccess({\n        unit: updatedUnit\n      })), catchError(error => of(UnitsActions.updateUnitFailure({\n        error: error.message\n      })))))));\n      this.deleteUnit$ = createEffect(() => this.actions$.pipe(ofType(UnitsActions.deleteUnit), mergeMap(({\n        id\n      }) => this.unitsService.deleteUnit(id).pipe(map(() => UnitsActions.deleteUnitSuccess({\n        id\n      })), catchError(error => of(UnitsActions.deleteUnitFailure({\n        error: error.message\n      })))))));\n    }\n    static {\n      this.ɵfac = function UnitsEffects_Factory(t) {\n        return new (t || UnitsEffects)(i0.ɵɵinject(i1.Actions), i0.ɵɵinject(i2.UnitsService));\n      };\n    }\n    static {\n      this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n        token: UnitsEffects,\n        factory: UnitsEffects.ɵfac\n      });\n    }\n  }\n  return UnitsEffects;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule, Validators } from '@angular/forms';\nimport { selectDepartmentById } from '../../../store/departments/departments.selectors';\nimport * as DepartmentsActions from '../../../store/departments/departments.actions';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@ngrx/store\";\nimport * as i4 from \"@angular/common\";\nfunction DepartmentsFormComponent_span_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 12);\n    i0.ɵɵtext(1, \" Nome \\u00E9 obrigat\\u00F3rio \");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class DepartmentsFormComponent {\n  constructor(fb, router, route, store) {\n    this.fb = fb;\n    this.router = router;\n    this.route = route;\n    this.store = store;\n    this.isEdit = false;\n    this.isSubmitting = false;\n    this.departmentId = null;\n    this.form = this.fb.group({\n      name: ['', Validators.required],\n      description: ['']\n    });\n  }\n  ngOnInit() {\n    this.route.params.subscribe(params => {\n      if (params['id']) {\n        this.isEdit = true;\n        this.departmentId = +params['id'];\n        this.store.select(selectDepartmentById(this.departmentId)).subscribe(department => {\n          if (department) {\n            this.form.patchValue({\n              name: department.name,\n              description: department.description || ''\n            });\n          } else {\n            this.store.dispatch(DepartmentsActions.loadDepartmentById({\n              id: this.departmentId\n            }));\n          }\n        });\n      }\n    });\n  }\n  onSubmit() {\n    if (!this.form.valid) return;\n    this.isSubmitting = true;\n    const formValue = this.form.value;\n    if (this.isEdit && this.departmentId) {\n      const updateDto = formValue;\n      this.store.dispatch(DepartmentsActions.updateDepartment({\n        id: this.departmentId,\n        department: updateDto\n      }));\n    } else {\n      const createDto = formValue;\n      this.store.dispatch(DepartmentsActions.createDepartment({\n        department: createDto\n      }));\n    }\n    setTimeout(() => {\n      this.router.navigate(['/departments']);\n    }, 1000);\n  }\n  onCancel() {\n    this.router.navigate(['/departments']);\n  }\n  static {\n    this.ɵfac = function DepartmentsFormComponent_Factory(t) {\n      return new (t || DepartmentsFormComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.Store));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: DepartmentsFormComponent,\n      selectors: [[\"app-departments-form\"]],\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 19,\n      vars: 5,\n      consts: [[1, \"container\"], [1, \"form-header\"], [1, \"form-container\", 3, \"ngSubmit\", \"formGroup\"], [1, \"form-group\"], [\"for\", \"name\"], [\"type\", \"text\", \"id\", \"name\", \"formControlName\", \"name\", \"placeholder\", \"Digite o nome do departamento\", 1, \"form-input\"], [\"class\", \"error-text\", 4, \"ngIf\"], [\"for\", \"description\"], [\"id\", \"description\", \"formControlName\", \"description\", \"placeholder\", \"Digite a descri\\u00E7\\u00E3o do departamento\", \"rows\", \"4\", 1, \"form-input\"], [1, \"form-actions\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"], [\"type\", \"button\", 1, \"btn\", \"btn-secondary\", 3, \"click\"], [1, \"error-text\"]],\n      template: function DepartmentsFormComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h1\");\n          i0.ɵɵtext(3);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(4, \"form\", 2);\n          i0.ɵɵlistener(\"ngSubmit\", function DepartmentsFormComponent_Template_form_ngSubmit_4_listener() {\n            return ctx.onSubmit();\n          });\n          i0.ɵɵelementStart(5, \"div\", 3)(6, \"label\", 4);\n          i0.ɵɵtext(7, \"Nome *\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(8, \"input\", 5);\n          i0.ɵɵtemplate(9, DepartmentsFormComponent_span_9_Template, 2, 0, \"span\", 6);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(10, \"div\", 3)(11, \"label\", 7);\n          i0.ɵɵtext(12, \"Descri\\u00E7\\u00E3o\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(13, \"textarea\", 8);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(14, \"div\", 9)(15, \"button\", 10);\n          i0.ɵɵtext(16);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(17, \"button\", 11);\n          i0.ɵɵlistener(\"click\", function DepartmentsFormComponent_Template_button_click_17_listener() {\n            return ctx.onCancel();\n          });\n          i0.ɵɵtext(18, \" Cancelar \");\n          i0.ɵɵelementEnd()()()();\n        }\n        if (rf & 2) {\n          let tmp_2_0;\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate1(\"\", ctx.isEdit ? \"Editar\" : \"Criar\", \" Departamento\");\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"formGroup\", ctx.form);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngIf\", ((tmp_2_0 = ctx.form.get(\"name\")) == null ? null : tmp_2_0.hasError(\"required\")) && ((tmp_2_0 = ctx.form.get(\"name\")) == null ? null : tmp_2_0.touched));\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"disabled\", !ctx.form.valid || ctx.isSubmitting);\n          i0.ɵɵadvance();\n          i0.ɵɵtextInterpolate1(\" \", ctx.isSubmitting ? \"Salvando...\" : \"Salvar\", \" \");\n        }\n      },\n      dependencies: [CommonModule, i4.NgIf, ReactiveFormsModule, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName],\n      styles: [\".container[_ngcontent-%COMP%] {\\n  padding: 2rem;\\n  max-width: 600px;\\n  margin: 0 auto;\\n}\\n\\n.form-header[_ngcontent-%COMP%] {\\n  margin-bottom: 2rem;\\n}\\n\\nh1[_ngcontent-%COMP%] {\\n  margin: 0;\\n  font-size: 1.8rem;\\n  color: #333;\\n}\\n\\n.form-container[_ngcontent-%COMP%] {\\n  background: white;\\n  padding: 2rem;\\n  border-radius: 8px;\\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\\n}\\n\\n.form-group[_ngcontent-%COMP%] {\\n  margin-bottom: 1.5rem;\\n  display: flex;\\n  flex-direction: column;\\n}\\n\\nlabel[_ngcontent-%COMP%] {\\n  font-weight: 600;\\n  margin-bottom: 0.5rem;\\n  color: #333;\\n}\\n\\n.form-input[_ngcontent-%COMP%] {\\n  padding: 0.75rem;\\n  border: 1px solid #ddd;\\n  border-radius: 4px;\\n  font-size: 14px;\\n  font-family: inherit;\\n}\\n\\n.form-input[_ngcontent-%COMP%]:focus {\\n  outline: none;\\n  border-color: #1976d2;\\n  box-shadow: 0 0 0 2px rgba(25, 118, 210, 0.1);\\n}\\n\\n.error-text[_ngcontent-%COMP%] {\\n  color: #dc3545;\\n  font-size: 12px;\\n  margin-top: 0.25rem;\\n}\\n\\n.form-actions[_ngcontent-%COMP%] {\\n  display: flex;\\n  gap: 1rem;\\n  margin-top: 2rem;\\n}\\n\\n.btn[_ngcontent-%COMP%] {\\n  padding: 0.75rem 1.5rem;\\n  border: none;\\n  border-radius: 4px;\\n  font-size: 14px;\\n  font-weight: 600;\\n  cursor: pointer;\\n  transition: all 0.3s;\\n}\\n\\n.btn-primary[_ngcontent-%COMP%] {\\n  background-color: #1976d2;\\n  color: white;\\n}\\n\\n.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled) {\\n  background-color: #1565c0;\\n}\\n\\n.btn-primary[_ngcontent-%COMP%]:disabled {\\n  background-color: #ccc;\\n  cursor: not-allowed;\\n}\\n\\n.btn-secondary[_ngcontent-%COMP%] {\\n  background-color: #6c757d;\\n  color: white;\\n}\\n\\n.btn-secondary[_ngcontent-%COMP%]:hover {\\n  background-color: #5a6268;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZmVhdHVyZXMvZGVwYXJ0bWVudHMvZGVwYXJ0bWVudHMtZm9ybS9kZXBhcnRtZW50cy1mb3JtLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDSTtFQUNFLGFBQUE7RUFDQSxnQkFBQTtFQUNBLGNBQUE7QUFBTjs7QUFHSTtFQUNFLG1CQUFBO0FBQU47O0FBR0k7RUFDRSxTQUFBO0VBQ0EsaUJBQUE7RUFDQSxXQUFBO0FBQU47O0FBR0k7RUFDRSxpQkFBQTtFQUNBLGFBQUE7RUFDQSxrQkFBQTtFQUNBLHdDQUFBO0FBQU47O0FBR0k7RUFDRSxxQkFBQTtFQUNBLGFBQUE7RUFDQSxzQkFBQTtBQUFOOztBQUdJO0VBQ0UsZ0JBQUE7RUFDQSxxQkFBQTtFQUNBLFdBQUE7QUFBTjs7QUFHSTtFQUNFLGdCQUFBO0VBQ0Esc0JBQUE7RUFDQSxrQkFBQTtFQUNBLGVBQUE7RUFDQSxvQkFBQTtBQUFOOztBQUdJO0VBQ0UsYUFBQTtFQUNBLHFCQUFBO0VBQ0EsNkNBQUE7QUFBTjs7QUFHSTtFQUNFLGNBQUE7RUFDQSxlQUFBO0VBQ0EsbUJBQUE7QUFBTjs7QUFHSTtFQUNFLGFBQUE7RUFDQSxTQUFBO0VBQ0EsZ0JBQUE7QUFBTjs7QUFHSTtFQUNFLHVCQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0VBQ0EsZUFBQTtFQUNBLGdCQUFBO0VBQ0EsZUFBQTtFQUNBLG9CQUFBO0FBQU47O0FBR0k7RUFDRSx5QkFBQTtFQUNBLFlBQUE7QUFBTjs7QUFHSTtFQUNFLHlCQUFBO0FBQU47O0FBR0k7RUFDRSxzQkFBQTtFQUNBLG1CQUFBO0FBQU47O0FBR0k7RUFDRSx5QkFBQTtFQUNBLFlBQUE7QUFBTjs7QUFHSTtFQUNFLHlCQUFBO0FBQU4iLCJzb3VyY2VzQ29udGVudCI6WyJcbiAgICAuY29udGFpbmVyIHtcbiAgICAgIHBhZGRpbmc6IDJyZW07XG4gICAgICBtYXgtd2lkdGg6IDYwMHB4O1xuICAgICAgbWFyZ2luOiAwIGF1dG87XG4gICAgfVxuXG4gICAgLmZvcm0taGVhZGVyIHtcbiAgICAgIG1hcmdpbi1ib3R0b206IDJyZW07XG4gICAgfVxuXG4gICAgaDEge1xuICAgICAgbWFyZ2luOiAwO1xuICAgICAgZm9udC1zaXplOiAxLjhyZW07XG4gICAgICBjb2xvcjogIzMzMztcbiAgICB9XG5cbiAgICAuZm9ybS1jb250YWluZXIge1xuICAgICAgYmFja2dyb3VuZDogd2hpdGU7XG4gICAgICBwYWRkaW5nOiAycmVtO1xuICAgICAgYm9yZGVyLXJhZGl1czogOHB4O1xuICAgICAgYm94LXNoYWRvdzogMCAxcHggM3B4IHJnYmEoMCwwLDAsMC4xKTtcbiAgICB9XG5cbiAgICAuZm9ybS1ncm91cCB7XG4gICAgICBtYXJnaW4tYm90dG9tOiAxLjVyZW07XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICB9XG5cbiAgICBsYWJlbCB7XG4gICAgICBmb250LXdlaWdodDogNjAwO1xuICAgICAgbWFyZ2luLWJvdHRvbTogMC41cmVtO1xuICAgICAgY29sb3I6ICMzMzM7XG4gICAgfVxuXG4gICAgLmZvcm0taW5wdXQge1xuICAgICAgcGFkZGluZzogMC43NXJlbTtcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7XG4gICAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICBmb250LWZhbWlseTogaW5oZXJpdDtcbiAgICB9XG5cbiAgICAuZm9ybS1pbnB1dDpmb2N1cyB7XG4gICAgICBvdXRsaW5lOiBub25lO1xuICAgICAgYm9yZGVyLWNvbG9yOiAjMTk3NmQyO1xuICAgICAgYm94LXNoYWRvdzogMCAwIDAgMnB4IHJnYmEoMjUsIDExOCwgMjEwLCAwLjEpO1xuICAgIH1cblxuICAgIC5lcnJvci10ZXh0IHtcbiAgICAgIGNvbG9yOiAjZGMzNTQ1O1xuICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgbWFyZ2luLXRvcDogMC4yNXJlbTtcbiAgICB9XG5cbiAgICAuZm9ybS1hY3Rpb25zIHtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBnYXA6IDFyZW07XG4gICAgICBtYXJnaW4tdG9wOiAycmVtO1xuICAgIH1cblxuICAgIC5idG4ge1xuICAgICAgcGFkZGluZzogMC43NXJlbSAxLjVyZW07XG4gICAgICBib3JkZXI6IG5vbmU7XG4gICAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICBmb250LXdlaWdodDogNjAwO1xuICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgdHJhbnNpdGlvbjogYWxsIDAuM3M7XG4gICAgfVxuXG4gICAgLmJ0bi1wcmltYXJ5IHtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICMxOTc2ZDI7XG4gICAgICBjb2xvcjogd2hpdGU7XG4gICAgfVxuXG4gICAgLmJ0bi1wcmltYXJ5OmhvdmVyOm5vdCg6ZGlzYWJsZWQpIHtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICMxNTY1YzA7XG4gICAgfVxuXG4gICAgLmJ0bi1wcmltYXJ5OmRpc2FibGVkIHtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNjY2M7XG4gICAgICBjdXJzb3I6IG5vdC1hbGxvd2VkO1xuICAgIH1cblxuICAgIC5idG4tc2Vjb25kYXJ5IHtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICM2Yzc1N2Q7XG4gICAgICBjb2xvcjogd2hpdGU7XG4gICAgfVxuXG4gICAgLmJ0bi1zZWNvbmRhcnk6aG92ZXIge1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzVhNjI2ODtcbiAgICB9XG4gICJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}","map":{"version":3,"names":["CommonModule","ReactiveFormsModule","Validators","selectDepartmentById","DepartmentsActions","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","DepartmentsFormComponent","constructor","fb","router","route","store","isEdit","isSubmitting","departmentId","form","group","name","required","description","ngOnInit","params","subscribe","select","department","patchValue","dispatch","loadDepartmentById","id","onSubmit","valid","formValue","value","updateDto","updateDepartment","createDto","createDepartment","setTimeout","navigate","onCancel","ɵɵdirectiveInject","i1","FormBuilder","i2","Router","ActivatedRoute","i3","Store","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","DepartmentsFormComponent_Template","rf","ctx","ɵɵlistener","DepartmentsFormComponent_Template_form_ngSubmit_4_listener","ɵɵelement","ɵɵtemplate","DepartmentsFormComponent_span_9_Template","DepartmentsFormComponent_Template_button_click_17_listener","ɵɵadvance","ɵɵtextInterpolate1","ɵɵproperty","tmp_2_0","get","hasError","touched","i4","NgIf","ɵNgNoValidate","DefaultValueAccessor","NgControlStatus","NgControlStatusGroup","FormGroupDirective","FormControlName","styles"],"sources":["C:\\Users\\Admin\\Documents\\SIPAS\\front\\src\\app\\features\\departments\\departments-form\\departments-form.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormBuilder, FormGroup, ReactiveFormsModule, Validators } from '@angular/forms';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { Store } from '@ngrx/store';\r\nimport { CreateDepartmentDto, UpdateDepartmentDto } from '../../../core/services/departments.service';\r\nimport { selectDepartmentById } from '../../../store/departments/departments.selectors';\r\nimport * as DepartmentsActions from '../../../store/departments/departments.actions';\r\n\r\n@Component({\r\n  selector: 'app-departments-form',\r\n  standalone: true,\r\n  imports: [CommonModule, ReactiveFormsModule],\r\n  template: `\r\n    <div class=\"container\">\r\n      <div class=\"form-header\">\r\n        <h1>{{ isEdit ? 'Editar' : 'Criar' }} Departamento</h1>\r\n      </div>\r\n\r\n      <form [formGroup]=\"form\" (ngSubmit)=\"onSubmit()\" class=\"form-container\">\r\n        <div class=\"form-group\">\r\n          <label for=\"name\">Nome *</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"name\"\r\n            formControlName=\"name\"\r\n            class=\"form-input\"\r\n            placeholder=\"Digite o nome do departamento\"\r\n          />\r\n          <span *ngIf=\"form.get('name')?.hasError('required') && form.get('name')?.touched\" class=\"error-text\">\r\n            Nome é obrigatório\r\n          </span>\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n          <label for=\"description\">Descrição</label>\r\n          <textarea\r\n            id=\"description\"\r\n            formControlName=\"description\"\r\n            class=\"form-input\"\r\n            placeholder=\"Digite a descrição do departamento\"\r\n            rows=\"4\"\r\n          ></textarea>\r\n        </div>\r\n\r\n        <div class=\"form-actions\">\r\n          <button type=\"submit\" class=\"btn btn-primary\" [disabled]=\"!form.valid || isSubmitting\">\r\n            {{ isSubmitting ? 'Salvando...' : 'Salvar' }}\r\n          </button>\r\n          <button type=\"button\" class=\"btn btn-secondary\" (click)=\"onCancel()\">\r\n            Cancelar\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  `,\r\n  styles: [`\r\n    .container {\r\n      padding: 2rem;\r\n      max-width: 600px;\r\n      margin: 0 auto;\r\n    }\r\n\r\n    .form-header {\r\n      margin-bottom: 2rem;\r\n    }\r\n\r\n    h1 {\r\n      margin: 0;\r\n      font-size: 1.8rem;\r\n      color: #333;\r\n    }\r\n\r\n    .form-container {\r\n      background: white;\r\n      padding: 2rem;\r\n      border-radius: 8px;\r\n      box-shadow: 0 1px 3px rgba(0,0,0,0.1);\r\n    }\r\n\r\n    .form-group {\r\n      margin-bottom: 1.5rem;\r\n      display: flex;\r\n      flex-direction: column;\r\n    }\r\n\r\n    label {\r\n      font-weight: 600;\r\n      margin-bottom: 0.5rem;\r\n      color: #333;\r\n    }\r\n\r\n    .form-input {\r\n      padding: 0.75rem;\r\n      border: 1px solid #ddd;\r\n      border-radius: 4px;\r\n      font-size: 14px;\r\n      font-family: inherit;\r\n    }\r\n\r\n    .form-input:focus {\r\n      outline: none;\r\n      border-color: #1976d2;\r\n      box-shadow: 0 0 0 2px rgba(25, 118, 210, 0.1);\r\n    }\r\n\r\n    .error-text {\r\n      color: #dc3545;\r\n      font-size: 12px;\r\n      margin-top: 0.25rem;\r\n    }\r\n\r\n    .form-actions {\r\n      display: flex;\r\n      gap: 1rem;\r\n      margin-top: 2rem;\r\n    }\r\n\r\n    .btn {\r\n      padding: 0.75rem 1.5rem;\r\n      border: none;\r\n      border-radius: 4px;\r\n      font-size: 14px;\r\n      font-weight: 600;\r\n      cursor: pointer;\r\n      transition: all 0.3s;\r\n    }\r\n\r\n    .btn-primary {\r\n      background-color: #1976d2;\r\n      color: white;\r\n    }\r\n\r\n    .btn-primary:hover:not(:disabled) {\r\n      background-color: #1565c0;\r\n    }\r\n\r\n    .btn-primary:disabled {\r\n      background-color: #ccc;\r\n      cursor: not-allowed;\r\n    }\r\n\r\n    .btn-secondary {\r\n      background-color: #6c757d;\r\n      color: white;\r\n    }\r\n\r\n    .btn-secondary:hover {\r\n      background-color: #5a6268;\r\n    }\r\n  `]\r\n})\r\nexport class DepartmentsFormComponent implements OnInit {\r\n  form: FormGroup;\r\n  isEdit = false;\r\n  isSubmitting = false;\r\n  departmentId: number | null = null;\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n    private store: Store<{ departments: any }>\r\n  ) {\r\n    this.form = this.fb.group({\r\n      name: ['', Validators.required],\r\n      description: ['']\r\n    });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.route.params.subscribe(params => {\r\n      if (params['id']) {\r\n        this.isEdit = true;\r\n        this.departmentId = +params['id'];\r\n        \r\n        this.store.select(selectDepartmentById(this.departmentId)).subscribe(department => {\r\n          if (department) {\r\n            this.form.patchValue({\r\n              name: department.name,\r\n              description: department.description || ''\r\n            });\r\n          } else {\r\n            this.store.dispatch(DepartmentsActions.loadDepartmentById({ id: this.departmentId! }));\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  onSubmit(): void {\r\n    if (!this.form.valid) return;\r\n\r\n    this.isSubmitting = true;\r\n    const formValue = this.form.value;\r\n\r\n    if (this.isEdit && this.departmentId) {\r\n      const updateDto: UpdateDepartmentDto = formValue;\r\n      this.store.dispatch(DepartmentsActions.updateDepartment({ \r\n        id: this.departmentId, \r\n        department: updateDto \r\n      }));\r\n    } else {\r\n      const createDto: CreateDepartmentDto = formValue;\r\n      this.store.dispatch(DepartmentsActions.createDepartment({ department: createDto }));\r\n    }\r\n\r\n    setTimeout(() => {\r\n      this.router.navigate(['/departments']);\r\n    }, 1000);\r\n  }\r\n\r\n  onCancel(): void {\r\n    this.router.navigate(['/departments']);\r\n  }\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
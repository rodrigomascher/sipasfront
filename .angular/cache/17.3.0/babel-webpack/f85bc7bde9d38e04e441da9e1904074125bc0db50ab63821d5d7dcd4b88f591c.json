{"ast":null,"code":"import { createEffect, ofType } from '@ngrx/effects';\nimport { of } from 'rxjs';\nimport { map, mergeMap, catchError } from 'rxjs/operators';\nimport * as UsersActions from './users.actions';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ngrx/effects\";\nimport * as i2 from \"../../core/services/users.service\";\nexport let UsersEffects = /*#__PURE__*/(() => {\n  class UsersEffects {\n    constructor(actions$, usersService) {\n      this.actions$ = actions$;\n      this.usersService = usersService;\n      this.loadUsers$ = createEffect(() => this.actions$.pipe(ofType(UsersActions.loadUsers), mergeMap(() => this.usersService.getUsers().pipe(map(users => UsersActions.loadUsersSuccess({\n        users\n      })), catchError(error => of(UsersActions.loadUsersFailure({\n        error: error.message\n      })))))));\n      this.loadUserById$ = createEffect(() => this.actions$.pipe(ofType(UsersActions.loadUserById), mergeMap(({\n        id\n      }) => this.usersService.getUserById(id).pipe(map(user => UsersActions.loadUserByIdSuccess({\n        user\n      })), catchError(error => of(UsersActions.loadUserByIdFailure({\n        error: error.message\n      })))))));\n      this.createUser$ = createEffect(() => this.actions$.pipe(ofType(UsersActions.createUser), mergeMap(({\n        user\n      }) => this.usersService.createUser(user).pipe(map(newUser => UsersActions.createUserSuccess({\n        user: newUser\n      })), catchError(error => of(UsersActions.createUserFailure({\n        error: error.message\n      })))))));\n      this.updateUser$ = createEffect(() => this.actions$.pipe(ofType(UsersActions.updateUser), mergeMap(({\n        id,\n        user\n      }) => this.usersService.updateUser(id, user).pipe(map(updatedUser => UsersActions.updateUserSuccess({\n        user: updatedUser\n      })), catchError(error => of(UsersActions.updateUserFailure({\n        error: error.message\n      })))))));\n      this.deleteUser$ = createEffect(() => this.actions$.pipe(ofType(UsersActions.deleteUser), mergeMap(({\n        id\n      }) => this.usersService.deleteUser(id).pipe(map(() => UsersActions.deleteUserSuccess({\n        id\n      })), catchError(error => of(UsersActions.deleteUserFailure({\n        error: error.message\n      })))))));\n      this.activateUser$ = createEffect(() => this.actions$.pipe(ofType(UsersActions.activateUser), mergeMap(({\n        id\n      }) => this.usersService.activateUser(id).pipe(map(user => UsersActions.activateUserSuccess({\n        user\n      })), catchError(error => of(UsersActions.activateUserFailure({\n        error: error.message\n      })))))));\n      this.deactivateUser$ = createEffect(() => this.actions$.pipe(ofType(UsersActions.deactivateUser), mergeMap(({\n        id\n      }) => this.usersService.deactivateUser(id).pipe(map(user => UsersActions.deactivateUserSuccess({\n        user\n      })), catchError(error => of(UsersActions.deactivateUserFailure({\n        error: error.message\n      })))))));\n    }\n    static {\n      this.ɵfac = function UsersEffects_Factory(t) {\n        return new (t || UsersEffects)(i0.ɵɵinject(i1.Actions), i0.ɵɵinject(i2.UsersService));\n      };\n    }\n    static {\n      this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n        token: UsersEffects,\n        factory: UsersEffects.ɵfac\n      });\n    }\n  }\n  return UsersEffects;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}
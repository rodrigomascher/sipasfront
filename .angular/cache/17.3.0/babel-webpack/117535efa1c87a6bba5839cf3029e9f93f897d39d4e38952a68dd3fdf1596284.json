{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Injectable } from '@angular/core';\nimport { createEffect, ofType } from '@ngrx/effects';\nimport { catchError, map, switchMap } from 'rxjs/operators';\nimport { of } from 'rxjs';\nimport * as RolesActions from './roles.actions';\nlet RolesEffects = class RolesEffects {\n  constructor(actions$, rolesService) {\n    this.actions$ = actions$;\n    this.rolesService = rolesService;\n    this.loadRoles$ = createEffect(() => this.actions$.pipe(ofType(RolesActions.loadRoles), switchMap(() => this.rolesService.getRoles().pipe(map(roles => RolesActions.loadRolesSuccess({\n      roles\n    })), catchError(error => of(RolesActions.loadRolesFailure({\n      error: error.message\n    })))))));\n    this.loadRoleById$ = createEffect(() => this.actions$.pipe(ofType(RolesActions.loadRoleById), switchMap(({\n      id\n    }) => this.rolesService.getRoleById(id).pipe(map(role => RolesActions.loadRoleByIdSuccess({\n      role\n    })), catchError(error => of(RolesActions.loadRoleByIdFailure({\n      error: error.message\n    })))))));\n    this.createRole$ = createEffect(() => this.actions$.pipe(ofType(RolesActions.createRole), switchMap(({\n      role\n    }) => this.rolesService.createRole(role).pipe(map(newRole => RolesActions.createRoleSuccess({\n      role: newRole\n    })), catchError(error => of(RolesActions.createRoleFailure({\n      error: error.message\n    })))))));\n    this.updateRole$ = createEffect(() => this.actions$.pipe(ofType(RolesActions.updateRole), switchMap(({\n      id,\n      role\n    }) => this.rolesService.updateRole(id, role).pipe(map(updatedRole => RolesActions.updateRoleSuccess({\n      role: updatedRole\n    })), catchError(error => of(RolesActions.updateRoleFailure({\n      error: error.message\n    })))))));\n    this.deleteRole$ = createEffect(() => this.actions$.pipe(ofType(RolesActions.deleteRole), switchMap(({\n      id\n    }) => this.rolesService.deleteRole(id).pipe(map(() => RolesActions.deleteRoleSuccess({\n      id\n    })), catchError(error => of(RolesActions.deleteRoleFailure({\n      error: error.message\n    })))))));\n  }\n};\nRolesEffects = __decorate([Injectable()], RolesEffects);\nexport { RolesEffects };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}
"use strict";(self.webpackChunksipas_front=self.webpackChunksipas_front||[]).push([[8],{3008:(R,b,m)=>{m.r(b),m.d(b,{EMPLOYEES_ROUTES:()=>T});var d=m(177),i=m(4341),g=m(4008),l=m(5134);const f=(0,l.UX)("employees"),h=(0,l.Mz)(f,t=>t.employees),y=((0,l.Mz)(f,t=>t.selectedEmployee),(0,l.Mz)(f,t=>t.loading)),C=(0,l.Mz)(f,t=>t.error);(0,l.Mz)(h,t=>t.length);var u=m(5106),e=m(4438);function F(t,a){1&t&&(e.j41(0,"div",9)(1,"p"),e.EFF(2,"Carregando funcion\xe1rios..."),e.k0s()())}function k(t,a){if(1&t&&(e.j41(0,"div",10),e.EFF(1),e.k0s()),2&t){const o=a.ngIf;e.R7$(),e.SpI(" ",o," ")}}function M(t,a){if(1&t){const o=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.j41(11,"td",13)(12,"button",14),e.EFF(13," \u270e Editar "),e.k0s(),e.j41(14,"button",15),e.bIt("click",function(){const n=e.eBV(o).$implicit,s=e.XpG(2);return e.Njj(s.deleteEmployee(n.id))}),e.EFF(15," \u{1f5d1} Deletar "),e.k0s()()()}if(2&t){const o=a.$implicit;e.R7$(2),e.SpI("#",o.id,""),e.R7$(2),e.JRh(o.name),e.R7$(2),e.JRh(o.email),e.R7$(2),e.JRh(o.phone||"-"),e.R7$(2),e.JRh(o.position||"-"),e.R7$(2),e.Mz_("routerLink","/employees/",o.id,"/edit")}}function O(t,a){if(1&t&&(e.j41(0,"table",11)(1,"thead")(2,"tr")(3,"th"),e.EFF(4,"ID"),e.k0s(),e.j41(5,"th"),e.EFF(6,"Nome"),e.k0s(),e.j41(7,"th"),e.EFF(8,"Email"),e.k0s(),e.j41(9,"th"),e.EFF(10,"Telefone"),e.k0s(),e.j41(11,"th"),e.EFF(12,"Cargo"),e.k0s(),e.j41(13,"th"),e.EFF(14,"A\xe7\xf5es"),e.k0s()()(),e.j41(15,"tbody"),e.DNE(16,M,16,7,"tr",12),e.k0s()()),2&t){const o=e.XpG();e.R7$(16),e.Y8G("ngForOf",o.filteredEmployees)}}function j(t,a){1&t&&(e.j41(0,"div",16)(1,"p"),e.EFF(2,"Nenhum funcion\xe1rio encontrado"),e.k0s()())}let v=(()=>{class t{constructor(o){this.store=o,this.filteredEmployees=[],this.searchTerm="",this.employees$=this.store.select(h),this.loading$=this.store.select(y),this.error$=this.store.select(C)}ngOnInit(){this.store.dispatch(u.IM()),this.employees$.subscribe(o=>{this.filteredEmployees=o})}onSearch(){this.employees$.subscribe(o=>{const r=this.searchTerm.toLowerCase();this.filteredEmployees=o.filter(n=>n.name.toLowerCase().includes(r)||n.email.toLowerCase().includes(r)||n.position&&n.position.toLowerCase().includes(r))})}deleteEmployee(o){confirm("Tem certeza que deseja deletar este funcion\xe1rio?")&&this.store.dispatch(u.Qu({id:o}))}static{this.\u0275fac=function(r){return new(r||t)(e.rXU(l.il))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-employees-list"]],standalone:!0,features:[e.aNF],decls:16,vars:11,consts:[["noData",""],[1,"container"],[1,"header"],["routerLink","/employees/create",1,"btn","btn-primary"],[1,"search-box"],["type","text","placeholder","Buscar por nome ou email...",1,"search-input",3,"ngModelChange","ngModel"],["class","spinner",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["class","data-table",4,"ngIf","ngIfElse"],[1,"spinner"],[1,"alert","alert-danger"],[1,"data-table"],[4,"ngFor","ngForOf"],[1,"actions"],["title","Editar",1,"btn-sm","btn-info",3,"routerLink"],["title","Deletar",1,"btn-sm","btn-danger",3,"click"],[1,"no-data"]],template:function(r,n){if(1&r){const s=e.RV6();e.j41(0,"div",1)(1,"div",2)(2,"h1"),e.EFF(3,"Cadastro de Funcion\xe1rios"),e.k0s(),e.j41(4,"button",3),e.EFF(5,"+ Novo Funcion\xe1rio"),e.k0s()(),e.j41(6,"div",4)(7,"input",5),e.mxI("ngModelChange",function(c){return e.eBV(s),e.DH7(n.searchTerm,c)||(n.searchTerm=c),e.Njj(c)}),e.bIt("ngModelChange",function(){return e.eBV(s),e.Njj(n.onSearch())}),e.k0s()(),e.DNE(8,F,3,0,"div",6),e.nI1(9,"async"),e.DNE(10,k,2,1,"div",7),e.nI1(11,"async"),e.DNE(12,O,17,1,"table",8),e.nI1(13,"async"),e.DNE(14,j,3,0,"ng-template",null,0,e.C5r),e.k0s()}if(2&r){const s=e.sdS(15);e.R7$(7),e.R50("ngModel",n.searchTerm),e.R7$(),e.Y8G("ngIf",e.bMT(9,5,n.loading$)),e.R7$(2),e.Y8G("ngIf",e.bMT(11,7,n.error$)),e.R7$(2),e.Y8G("ngIf",e.bMT(13,9,n.employees$))("ngIfElse",s)}},dependencies:[d.MD,d.Sq,d.bT,d.Jj,i.YN,i.me,i.BC,i.vS,g.Wk],styles:[".container[_ngcontent-%COMP%]{padding:2rem}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem}h1[_ngcontent-%COMP%]{margin:0;font-size:2rem;color:#333}.search-box[_ngcontent-%COMP%]{margin-bottom:2rem}.search-input[_ngcontent-%COMP%]{width:100%;max-width:500px;padding:.75rem;border:1px solid #ddd;border-radius:4px;font-size:14px}.data-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;background:#fff;box-shadow:0 1px 3px #0000001a;border-radius:4px;overflow:hidden}thead[_ngcontent-%COMP%]{background-color:#f5f5f5;border-bottom:2px solid #ddd}th[_ngcontent-%COMP%]{padding:1rem;text-align:left;font-weight:600;color:#333}td[_ngcontent-%COMP%]{padding:.75rem 1rem;border-bottom:1px solid #eee}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f9f9f9}.actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-wrap:wrap}.btn-sm[_ngcontent-%COMP%]{padding:.5rem .75rem;font-size:12px;border:none;border-radius:4px;cursor:pointer;transition:all .3s}.btn-info[_ngcontent-%COMP%]{background-color:#17a2b8;color:#fff}.btn-info[_ngcontent-%COMP%]:hover{background-color:#138496}.btn-danger[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#c82333}.spinner[_ngcontent-%COMP%]{text-align:center;padding:2rem}.no-data[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#666}.alert-danger[_ngcontent-%COMP%]{padding:1rem;background-color:#f8d7da;color:#721c24;border:1px solid #f5c6cb;border-radius:4px;margin-bottom:2rem}"]})}}return t})();function x(t,a){1&t&&(e.j41(0,"span",16),e.EFF(1," Nome \xe9 obrigat\xf3rio "),e.k0s())}function P(t,a){1&t&&(e.j41(0,"span",16),e.EFF(1," Email \xe9 obrigat\xf3rio "),e.k0s())}function I(t,a){1&t&&(e.j41(0,"span",16),e.EFF(1," Email inv\xe1lido "),e.k0s())}let E=(()=>{class t{constructor(o,r,n,s){this.fb=o,this.router=r,this.route=n,this.store=s,this.isEdit=!1,this.isSubmitting=!1,this.employeeId=null,this.form=this.fb.group({name:["",i.k0.required],email:["",[i.k0.required,i.k0.email]],phone:[""],position:[""]})}ngOnInit(){this.route.params.subscribe(o=>{o.id&&(this.isEdit=!0,this.employeeId=+o.id,this.store.select((t=>(0,l.Mz)(h,a=>a.find(o=>o.id===t)||null))(this.employeeId)).subscribe(r=>{r?this.form.patchValue({name:r.name,email:r.email,phone:r.phone||"",position:r.position||""}):this.store.dispatch(u.dK({id:this.employeeId}))}))})}onSubmit(){if(!this.form.valid)return;this.isSubmitting=!0;const o=this.form.value;this.store.dispatch(this.isEdit&&this.employeeId?u.Y$({id:this.employeeId,employee:o}):u.bV({employee:o})),setTimeout(()=>{this.router.navigate(["/employees"])},1e3)}onCancel(){this.router.navigate(["/employees"])}static{this.\u0275fac=function(r){return new(r||t)(e.rXU(i.ok),e.rXU(g.Ix),e.rXU(g.nX),e.rXU(l.il))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-employees-form"]],standalone:!0,features:[e.aNF],decls:29,vars:7,consts:[[1,"container"],[1,"form-header"],[1,"form-container",3,"ngSubmit","formGroup"],[1,"form-group"],["for","name"],["type","text","id","name","formControlName","name","placeholder","Digite o nome do funcion\xe1rio",1,"form-input"],["class","error-text",4,"ngIf"],["for","email"],["type","email","id","email","formControlName","email","placeholder","Digite o email do funcion\xe1rio",1,"form-input"],["for","phone"],["type","tel","id","phone","formControlName","phone","placeholder","Digite o telefone",1,"form-input"],["for","position"],["type","text","id","position","formControlName","position","placeholder","Digite o cargo",1,"form-input"],[1,"form-actions"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"error-text"]],template:function(r,n){if(1&r&&(e.j41(0,"div",0)(1,"div",1)(2,"h1"),e.EFF(3),e.k0s()(),e.j41(4,"form",2),e.bIt("ngSubmit",function(){return n.onSubmit()}),e.j41(5,"div",3)(6,"label",4),e.EFF(7,"Nome *"),e.k0s(),e.nrm(8,"input",5),e.DNE(9,x,2,0,"span",6),e.k0s(),e.j41(10,"div",3)(11,"label",7),e.EFF(12,"Email *"),e.k0s(),e.nrm(13,"input",8),e.DNE(14,P,2,0,"span",6)(15,I,2,0,"span",6),e.k0s(),e.j41(16,"div",3)(17,"label",9),e.EFF(18,"Telefone"),e.k0s(),e.nrm(19,"input",10),e.k0s(),e.j41(20,"div",3)(21,"label",11),e.EFF(22,"Cargo"),e.k0s(),e.nrm(23,"input",12),e.k0s(),e.j41(24,"div",13)(25,"button",14),e.EFF(26),e.k0s(),e.j41(27,"button",15),e.bIt("click",function(){return n.onCancel()}),e.EFF(28," Cancelar "),e.k0s()()()()),2&r){let s,p,c;e.R7$(3),e.SpI("",n.isEdit?"Editar":"Criar"," Funcion\xe1rio"),e.R7$(),e.Y8G("formGroup",n.form),e.R7$(5),e.Y8G("ngIf",(null==(s=n.form.get("name"))?null:s.hasError("required"))&&(null==(s=n.form.get("name"))?null:s.touched)),e.R7$(5),e.Y8G("ngIf",(null==(p=n.form.get("email"))?null:p.hasError("required"))&&(null==(p=n.form.get("email"))?null:p.touched)),e.R7$(),e.Y8G("ngIf",(null==(c=n.form.get("email"))?null:c.hasError("email"))&&(null==(c=n.form.get("email"))?null:c.touched)),e.R7$(10),e.Y8G("disabled",!n.form.valid||n.isSubmitting),e.R7$(),e.SpI(" ",n.isSubmitting?"Salvando...":"Salvar"," ")}},dependencies:[d.MD,d.bT,i.X1,i.qT,i.me,i.BC,i.cb,i.j4,i.JD],styles:[".container[_ngcontent-%COMP%]{padding:2rem;max-width:600px;margin:0 auto}.form-header[_ngcontent-%COMP%]{margin-bottom:2rem}h1[_ngcontent-%COMP%]{margin:0;font-size:1.8rem;color:#333}.form-container[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:8px;box-shadow:0 1px 3px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem;display:flex;flex-direction:column}label[_ngcontent-%COMP%]{font-weight:600;margin-bottom:.5rem;color:#333}.form-input[_ngcontent-%COMP%]{padding:.75rem;border:1px solid #ddd;border-radius:4px;font-size:14px;font-family:inherit}.form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#1976d2;box-shadow:0 0 0 2px #1976d21a}.error-text[_ngcontent-%COMP%]{color:#dc3545;font-size:12px;margin-top:.25rem}.form-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:2rem}.btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border:none;border-radius:4px;font-size:14px;font-weight:600;cursor:pointer;transition:all .3s}.btn-primary[_ngcontent-%COMP%]{background-color:#1976d2;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#1565c0}.btn-primary[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.btn-secondary[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#5a6268}"]})}}return t})();const T=[{path:"",component:v},{path:"create",component:E},{path:":id/edit",component:E}]}}]);
"use strict";(self.webpackChunksipas_front=self.webpackChunksipas_front||[]).push([[996],{9996:(m,d,i)=>{i.r(d),i.d(d,{AUTH_ROUTES:()=>h});var l=i(177),t=i(4341),n=i(4438),p=i(8010),u=i(4008);function c(r,b){if(1&r&&(n.j41(0,"div",10),n.EFF(1),n.k0s()),2&r){const o=n.XpG();n.R7$(),n.SpI(" ",o.error," ")}}const h=[{path:"login",component:(()=>{class r{constructor(o,s){this.authService=o,this.router=s,this.email="",this.password="",this.loading=!1,this.error=""}ngOnInit(){this.authService.isAuthenticated()&&this.router.navigate(["/dashboard"])}onLogin(){this.email&&this.password?(this.loading=!0,this.error="",this.authService.login({email:this.email,password:this.password}).subscribe({next:o=>{this.loading=!1,this.authService.setToken(o.access_token),this.authService.setUser(o.user),this.router.navigate(["/dashboard"])},error:o=>{this.loading=!1,this.error=o.error?.message||"Erro ao fazer login. Tente novamente."}})):this.error="Email e senha s\xe3o obrigat\xf3rios"}static{this.\u0275fac=function(s){return new(s||r)(n.rXU(p.u),n.rXU(u.Ix))}}static{this.\u0275cmp=n.VBU({type:r,selectors:[["app-login"]],standalone:!0,features:[n.aNF],decls:18,vars:5,consts:[[1,"login-container"],[1,"login-box"],[3,"ngSubmit"],[1,"form-group"],["for","email"],["type","email","id","email","name","email","placeholder","seu@email.com","required","",3,"ngModelChange","ngModel"],["for","password"],["type","password","id","password","name","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","required","",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","alert alert-danger",4,"ngIf"],[1,"alert","alert-danger"]],template:function(s,e){1&s&&(n.j41(0,"div",0)(1,"div",1)(2,"h1"),n.EFF(3,"SIPAS"),n.k0s(),n.j41(4,"h2"),n.EFF(5,"Sistema Integrado de Prontu\xe1rio e Assist\xeancia Social"),n.k0s(),n.j41(6,"form",2),n.bIt("ngSubmit",function(){return e.onLogin()}),n.j41(7,"div",3)(8,"label",4),n.EFF(9,"Email"),n.k0s(),n.j41(10,"input",5),n.mxI("ngModelChange",function(a){return n.DH7(e.email,a)||(e.email=a),a}),n.k0s()(),n.j41(11,"div",3)(12,"label",6),n.EFF(13,"Senha"),n.k0s(),n.j41(14,"input",7),n.mxI("ngModelChange",function(a){return n.DH7(e.password,a)||(e.password=a),a}),n.k0s()(),n.j41(15,"button",8),n.EFF(16),n.k0s()(),n.DNE(17,c,2,1,"div",9),n.k0s()()),2&s&&(n.R7$(10),n.R50("ngModel",e.email),n.R7$(4),n.R50("ngModel",e.password),n.R7$(),n.Y8G("disabled",e.loading),n.R7$(),n.SpI(" ",e.loading?"Entrando...":"Entrar"," "),n.R7$(),n.Y8G("ngIf",e.error))},dependencies:[l.MD,l.bT,t.YN,t.qT,t.me,t.BC,t.cb,t.YS,t.vS,t.cV],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background:linear-gradient(135deg,#667eea,#764ba2)}.login-box[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 10px 40px #0003;padding:40px;width:100%;max-width:400px}h1[_ngcontent-%COMP%]{font-size:32px;font-weight:700;color:#667eea;text-align:center;margin-bottom:10px}h2[_ngcontent-%COMP%]{font-size:12px;color:#999;text-align:center;margin-bottom:30px;font-weight:400}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-weight:500;color:#333}input[_ngcontent-%COMP%]{width:100%;padding:10px 12px;border:1px solid #ddd;border-radius:4px;font-size:14px;transition:border-color .3s}input[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}button[_ngcontent-%COMP%]{width:100%;padding:12px;margin-top:10px;border:none;border-radius:4px;font-size:14px;font-weight:600;cursor:pointer;transition:opacity .3s}button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.alert[_ngcontent-%COMP%]{margin-top:20px;padding:12px;border-radius:4px;background-color:#fee;color:#c33;border:1px solid #fcc}"]})}}return r})()}]}}]);